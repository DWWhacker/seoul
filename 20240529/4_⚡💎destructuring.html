<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>destructuring(구조분해)</title>
  </head>
  <body></body>
  <script>
    // 배열 분해
    const newJeans = ["하니", "해린", "민지", "다니엘", "혜인"];

    // ~ ES6: 이전 방식
    // 이전에는 배열 요소를 각각의 변수에 할당해야 했습니다.
    const one = newJeans[0];
    const two = newJeans[1];
    const three = newJeans[2];
    const four = newJeans[3];
    const five = newJeans[4];

    // ES6 ~: 구조 분해 방식
    // ES6부터는 배열 구조 분해를 통해 각 요소를 추출할 수 있습니다.
    const [
      unitOne,
      unitTwo,
      unitThree,
      unitFour,
      unitFive,
      unitSix = "default",
    ] = newJeans;

    // 문자열 분해
    // 파일 이름과 확장자를 분리합니다.
    const fileName = "시바견.jpg";
    const [name, extension] = fileName.split(".");

    // 객체 분해
    const obj = {
      name: "홍길동",
      age: 20,
      addr: "대전광역시 중구 선화동",
      weight: "80kg",
      height: "200cm",
    };

    // 객체의 속성을 개별 변수로 추출합니다.
    const { name: myName, age, addr, weight, height } = obj;

    // 템플릿 리터럴 활용
    // 변수를 문자열에 삽입하여 편리하게 문자열을 생성합니다.
    document.write(`
        안녕하세요. 저의 이름은 ${myName} 이고,<br>
        나이는 ${age}살 입니다.<br>
        주소는 ${addr}이고,<br>
        키와 몸무게는 ${height}, ${weight} 입니다.<br>
        잘부탁드립니다.
    `);

    // 나머지 연산자 (...)
    // 배열 분해에서 나머지 요소를 추출합니다.
    const numArr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    const [num1, num2, ...restNum] = numArr;

    // 객체에서의 나머지 연산자 활용
    // 객체 분해에서 원하는 속성을 추출하고 나머지 속성을 추출합니다.
    let options = {
      title: "Menu",
      width: 100,
      height: 200,
    };
    const { title, ...rest } = options;

    // 중첩된 객체 구조 분해
    options = {
      size: {
        width: 100,
        height: 200,
      },
      items: ["Cake", "Donut"],
      extra: true,
    };

    // 중첩된 객체의 속성을 분해하여 접근합니다.
    let {
      size: { width, height: height2 },
      items: [item1, item2],
      extra,
    } = options;

    // 객체에서 중첩된 구조를 분해하여 값 추출
    const {
      address: {
        street,
        city,
        geo: { lat, lng },
      },
    } = user;

    // 결과 출력
    // 분해된 값들을 콘솔에 출력합니다.
    console.log(unitOne, unitTwo, unitThree, unitFour, unitFive, unitSix);
    console.log(name, extension);
    console.log(title, rest);
    console.log(width, height2, item1, item2, extra);
    console.log(num1, num2, restNum);
    console.log(street, city, lat, lng);
  </script>
</html>
